<HTML>
    <head>
        <title>GrupoDOT</title>
         <meta charset="UTF-8">
   		 <meta name="viewport" content="width=device-width, initial-scale=1.0">
    	 <meta http-equiv="X-UA-Compatible" content="ie=edge">
    	 <link rel="shortcut icon" href="img/icono1.png" type="image/x-icon">
    	 <link rel="stylesheet" href="css/estilos.css">
    	 <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700,800&display=swap" rel="stylesheet"> 
    </head>
    <body>
         <header>
        <nav>
            <a href="https://www.grupodot.com/es/">Inicio</a>
            <a href="https://www.grupodot.com/es/historia-grupodot/">Acerca de</a>
            <a href="https://www.grupodot.com/es/">GrupoDot</a>
            <a href="https://www.grupodot.com/es/enterprise-portals/">Servicios</a>
            <a href="https://www.grupodot.com/es/contacto/">Contacto</a>
        </nav>
        <section class="textos-header">
            <h1>Compañia de Financiamiento S.A.S<A class="S"></A></h1>
            <h2>Prueba Tecnica</h2>
        </section>
        <div class="wave" style="height: 150px; overflow: hidden;"><svg viewBox="0 0 500 150" preserveAspectRatio="none"
                style="height: 100%; width: 100%;">
                <path d="M0.00,49.98 C150.00,150.00 349.20,-50.00 500.00,49.98 L500.00,150.00 L0.00,150.00 Z"
                    style="stroke: none; fill: #fff;"></path>
            </svg></div>
    </header>
        <div id="solicitud">
            Monto: <input type="numeric" name="monto">
            <button onclick="solicitarPrestamo()">Solicitar</button>
        </div>
        <div id="resultado" style="display: none;">
            Socio: <span id="socio"></span><br>
            Tasa de Interés: <span id="tasa"></span>
        </div>
        <div id="error" style="display: none;">
            Error consultando el servicio
        </div>
    </body>
    <script>
        const solicitarPrestamo = async() => {
            var monto = document.querySelector("#solicitud [name='monto']").value
            try {
                document.getElementById("resultado").style.display = "block"
                document.getElementById("error").style.display = "none"
                const respuesta = await fetch('http://localhost:8888/prestamo/obtenerPrestamo?monto='+monto)
                const respuestaJson = respuesta.json
                document.getElementById("socio").text = respuestaJson.socio
                document.getElementById("tasa").text = respuestaJson.tasa
            } catch ( error ) {
                document.getElementById("resultado").style.display = "none"
                document.getElementById("error").style.display = "block"
            }
        }
    </script>
</HTML>